{% extends "base.html" %}
{% load staticfiles %}

{% block section_scripts %}
  <script src="https://maps.googleapis.com/maps/api/js?v=3.exp&sensor=false&libraries=places"></script>
  <script src={% static "js/mapload.js" %}></script>
  {% block page_scripts %}
  {% endblock page_scripts %}
{% endblock section_scripts %}

{% block section_css %}
  <style>
  #map-canvas {
    height: 60vh; /*Use vh instead of % so we can use this in container*/
    width: 100%;
    margin: 0px;
    padding: 0px
  }
  #pac-input {
        background-color: #fff;
        padding: 0 11px 0 13px;
        width: 400px;
        font-family: Roboto;
        font-size: 15px;
        font-weight: 300;
        text-overflow: ellipsis;
      }

      #pac-input:focus {
        border-color: #4d90fe;
        margin-left: -1px;
        padding-left: 14px;  /* Regular padding-left + 1. */
        width: 401px;
      }

      .pac-container {
        font-family: Roboto;
      }
</style>
  {% block page_css %}
  {% endblock page_css %}
{% endblock section_css %}

{% block content %}
  {% block distance_indicator %}
  {% endblock distance_indicator %}

  {% block map %}
    {# <button class="" id="refresh-map">Refresh map</button> #}
    {# <button id="save-path">Save path</button> #}
    {# Form for testing purposes #}
    <script>
      $(function() {
        function displayPath(data, textStatus, xhr) {
          console.log(data)
        }

        $('#get_path').ajaxForm({
          url: '/path/',
          type: 'GET',
          success: displayPath,
          });
      })
    </script>
     {# <form action="" id="get_path"> #}
      {# <input type="text" name="path-name"> #}
      {# <input type="submit" value="Get Path"> #}
    {# </form> #}

    <script language="JavaScript">
    function mapFromInput(form){
      var loc= form.locationfield.value;
      genRoute(loc, null, null);
    }
    </script>

    {# <form id="path_submit" method="GET">Enter a starting location and distance: <br> #}
    {# <input type="text" name="locationfield" value=""> #}
    {# <input type="number" name="distancefield" value""> #}
    {# <input type="submit" name="p_s_button" value="Click"> #}
    {# </form> #}

    <input id="pac-input" class="controls" type="text" placeholder="Search Box">
    <div class="container"> {# The container class magically adjusts width #}
      <div id="map-canvas"></div>
    </div>

  {% endblock map %}

  {% block undermap_content %}
  {% endblock undermap_content %}
{% endblock content %}